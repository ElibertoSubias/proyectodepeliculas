import{a as N}from"./chunk-73KPQVTE.js";import{b as G,c as O}from"./chunk-JVR53OYE.js";import{a as k,b as h,c as w,d as E,e as T,f as H,g as U,h as q,i as B,j as D}from"./chunk-VUTGS4B6.js";import{a as u,b as I,j as S,n as g,q as M,r as j}from"./chunk-YDQ4ZGZT.js";import{Ab as m,Ua as l,Va as s,_ as d,gb as f,ha as C,ia as c,jc as b,kb as p,kc as F,nb as a,ob as o,pb as v,rb as y}from"./chunk-4X6IT63B.js";function L(t,e){t&1&&(a(0,"div",12),m(1,"* Campo requerido"),o())}function R(t,e){t&1&&(a(0,"div",13),m(1,"* Campo requerido"),o())}var V=(()=>{let e=class e{constructor(r,i,n,x,A){this.router=r,this.http=i,this.fb=n,this.moviesService=x,this.apiService=A,this.loginForm=this.fb.group({usuario:["",[h.required]],contrasenia:["",[h.required]]})}ngOnInit(){this.apiService.getToken()&&this.router.navigateByUrl("/home")}login(){let r={usuario:this.loginForm.value.usuario,contrasenia:this.loginForm.value.contrasenia};this.apiService.login(r).subscribe({next:i=>{this.apiService.setToken(i.token),this.router.navigateByUrl("/home")},error:i=>{alert("Error al iniciar sesion")},complete:()=>{}})}};e.\u0275fac=function(i){return new(i||e)(s(S),s(u),s(q),s(M),s(N))},e.\u0275cmp=C({type:e,selectors:[["app-workspace"]],decls:17,vars:4,consts:[[1,"col-8","offset-2","col-lg-6","offset-lg-3","div-wrapper","d-flex","justify-content-center","align-items-center"],[1,"div-to-align"],[1,"text-center"],[3,"formGroup"],[1,"mb-3"],["for","txtUsuario",1,"form-label"],["type","text","formControlName","usuario","name","usuario","id","txtUsuario",1,"form-control"],["id","usuarioHelp","class","form-text text-danger",4,"ngIf"],["for","txtPassword",1,"form-label"],["type","password","formControlName","contrasenia","name","contrasenia","id","txtContrasenia",1,"form-control"],["class","form-text text-danger",4,"ngIf"],["type","submit",1,"btn","btn-primary",3,"click","disabled"],["id","usuarioHelp",1,"form-text","text-danger"],[1,"form-text","text-danger"]],template:function(i,n){i&1&&(a(0,"div",0)(1,"div",1)(2,"p",2),m(3,"Inicio de sesion"),o(),a(4,"form",3)(5,"div",4)(6,"label",5),m(7,"Usuario"),o(),v(8,"input",6),f(9,L,2,0,"div",7),o(),a(10,"div",4)(11,"label",8),m(12,"Contrase\xF1a:"),o(),v(13,"input",9),f(14,R,2,0,"div",10),o(),a(15,"button",11),y("click",function(){return n.login()}),m(16,"Ingresar"),o()()()()),i&2&&(l(4),p("formGroup",n.loginForm),l(5),p("ngIf",!n.loginForm.value.usuario),l(5),p("ngIf",!n.loginForm.value.contrasenia),l(),p("disabled",!n.loginForm.valid))},dependencies:[b,T,k,w,E,H,U],styles:[".div-wrapper[_ngcontent-%COMP%]{height:400px;margin-top:10rem;border:2px dashed #ddd;border-radius:8px}.div-to-align[_ngcontent-%COMP%]{width:75%;padding:40px 20px}"]});let t=e;return t})();var z=[{path:"",component:V}],_=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=c({type:e}),e.\u0275inj=d({imports:[g.forChild(z),g]});let t=e;return t})();var ce=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=c({type:e}),e.\u0275inj=d({providers:[I(),u],imports:[F,_,j,O,G,B,D]});let t=e;return t})();export{ce as LoginModule};
